# 2025年度 鳥人間サークル電装班 製作報告書
25代電装班

---

## 📘 目次
1. 要求定義（何を実現したいか）  
2. 要件定義（必要となる機能・条件）  
3. 基本設計（システム構成）  
4. 詳細設計（ハード・ソフト）  
5. 製作（製作過程）  
6. 試験・評価  
7. 結果  
8. 課題・改善案  
9. 付録  

---

## 1. 要求定義（何を実現したいか）

- 測定機器の安定動作と冗長化  
- パイロットへの情報伝達の信頼性向上  
- 安全性の高い操舵システムの構築  
- データ取得の高精度化・多様化  
- 班員全体の技術力向上（教育の標準化）  

---

## 2. 要件定義（必要となる機能・条件）

### ■ 共通事項

### **非機能要件**
- 軽量性（搭載重量を最小化）
- 耐振動性・耐水性
- 低消費電力
- 故障時のフェールセーフ動作
- データ冗長性（SD複数ユニット記録）

### **制約条件**
- 搭載位置の制約（機体下部・胴体内部）
- 使用可能電源の制約
- 他班とのインターフェース制約
- 飛行当日のデータが一度しか取得できない

---

## ■ 機能別要件

---

### （1）操舵系 要件

- 必要舵角：±○○°  
- 必要トルク：○○ N·m  
- 重量：○○ g 以下  
- 応答速度：○○ ms 以下  
- フィードバック精度：○○°以内  
- メイン電装とUART通信  
- 非常時にニュートラルへ戻る安全機構  

---

### （2）テレメトリ（パイロット通知）要件

- 通知方式：スピーカー（音声 or ビープ）
- 通知内容：高度・速度・重要警告
- 全センサ値をメイン電装で統合して通知
- 通信遅延：○○ ms 以下
- 異常時アラート機能
- パイロットが聞き取りやすい音量・音質

---

### （3）高度・速度計（機体下電装・エアデータ）

#### ■ 気圧高度
- I2C通信  
- 精度：○○ m  
- 冗長化のため複数搭載  

#### ■ 超音波高度
- 1ユニットのみ（干渉防止）  
- 機体最下部に設置  
- 地表付近専用の高度計  

#### ■ 対気速度
- ピトー管 + 差圧センサ  
- 応答時間：○○ ms  
- 気圧補正はメイン電装側で実施  

#### ■ 通信・データ処理構成
- 各ユニット → メイン電装：UART  
- センサ → マイコン：I2C  
- マイコン → SD：SPI（高速書き込み）  

---

### （4）ロガー（Logging System）要件

#### ■ SDカード冗長化
- 機体下電装・エアデータ・メイン電装の 3枚構成  
- どれかが故障してもデータが残る設計  

#### ■ 記録方式
- 書き込み高速化のため SPI 通信必須  
- メイン電装が全データを各SDへ送信  
- タイムスタンプ同期  
- 書き込み遅延対策：キュー方式  

#### ■ 記録するデータ一覧（優先度付き）

| 優先度 | 測定値 | 備考 |
|--------|--------|------|
| 高 | GPS | 信頼性が高く冗長化不要 |
| 高 | 超音波高度 | 干渉するため1つのみ |
| 高 | 気圧高度 | 冗長性確保のため複数搭載 |
| 中 | ラダー操作量 | 操舵に影響を与えない設計 |
| 中 | 9軸・姿勢 | 異種センサなら複数搭載可 |
| 中 | 対気速度 | 測定方式が複数存在（後述） |
| 低 | AoA（迎角） | 水面付近はピッチで代替可能 |
| 低 | AoS（滑り角） | 製作難度が高いため見送り |

---

## 3. 基本設計（システム構成）

### ■ 全体構成図（概略）

```
機体下電装 ┐
              ├─ UART → メイン電装 → スピーカー（パイロット通知）
エアデータ ─┘

メイン電装 ⇄ 操舵系マイコン
```

- センサ通信：I2C  
- ログ書き込み：SPI  
- ユニット間通信：UART  
- メイン電装が統合処理 → パイロット通知  

---

## 4. 詳細設計（ハード・ソフト）

### ■ 機体下電装
- 温度・気圧・超音波センサ  
- 3種センサの配置  
- 最下部に取り付ける構造  
- ノイズ対策（遮蔽・絶縁）  
- データ取得周期の設計  

### ■ エアデータセンサ
- ピトー管の材質・形状設計  
- 差圧センサの温度補正  
- 配管の振動吸収構造  

### ■ メイン電装
- マイコン選定理由  
- データフロー設計  
- UART同期処理  
- スピーカー制御  
- エラー検出・フェールセーフ実装  

### ■ ソフトウェア
- センサ読み取りタスク  
- ログ用キュー管理  
- パケット構造  
- 異常検出ロジック  

---

## 5. 製作（製作過程）

- 基板設計 → 発注 → 実装  
- 半田付け  
- 3Dプリントケース製作  
- 配線・固定・防振処理  
- 機体への搭載確認  

---

## 6. 試験・評価

- 通信試験（UART / SPI / I2C）  
- SD書き込み速度テスト  
- 超音波高度の地上検証  
- 気圧高度の較正試験  
- 振動試験  
- 操舵応答速度測定  
- テレメトリ動作確認  

---

## 7. 結果

- 全ユニットが正常動作  
- 各センサデータの取得成功  
- ログデータの冗長性を確保  
- 操舵系の応答性・精度を達成  
- 完成写真・最終仕様（別添）  

---

## 8. 課題・改善案

- ノイズ対策の再検討  
- SD書き込みの最適化  
- ケース強度の改善  
- テレメトリ音量・周波数の最適化  
- 操舵系の小型・軽量化  
- 教育資料の拡充  

---

## 付録
- 回路図  
- PCBデータ  
- CADモデル  
- ソースコード  
- 試験ログ  
- 設計資料  


