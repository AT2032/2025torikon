## 速度計
- 対気速度を測定する
  - パイロット伝達用
    
  - ログ用
   
- 校正難しい5孔ピトー管や風車ではなく，2孔ピトー管で測定
    
- 差圧センサは公式で[Arduinoライブラリ](https://github.com/Sensirion/arduino-i2c-sdp)が用意されている**SensirionのSDP**を使用する
  - ピトー管係数が1から大きく外れない
    
  - 流量方式のため，ピトー管のそばに差圧センサを置く
    
  - ドリフトの調整を省略できるのは楽
    
  - フライト時の振動は想定しづらいが，チューブの圧損はチューブの長さを短くすることで押さえることができる
  <br>
  
  | 製品 | 方式 | 振動 | ドリフト | チューブでの圧損 |
  |--------|--------|--------|--------|--------|
  | Sensirion SDP | 流量 | 影響なし | なし | 影響あり |
    
- 今回使用したセンサは[SDP810-500PA](https://sensirion.com/jp/products/catalog/SDP810-500Pa)
  - ノイズに弱いアナログではなくI2C通信
    
  - 簡単に手はんだが可能
    
  - 3.3Vで動作可能
    
  - 圧力範囲は念のため広く取り，±500Pa
    
  - SDP811はI2Cアドレスが違うだけ


## [AoA](https://en.wikipedia.org/wiki/Angle_of_attack),[AoS](https://en.wikipedia.org/wiki/Slip_(aerodynamics))
- AoA,AoSを測定する
  - AoAは機体が揚力をどれくらい受けているのか，そしてAoSは機体がどれほど横滑りを起こしているか測定するために導入
    
  - AoAはピッチの値にオフセットを加えると同じような値になり，そして水面付近では上下方向の風が基本的になく，ピッチの測定で十分であるため，最悪なくてもよかった
    
  - AoSは代替手段がなく，機体が横滑りを起こしているかを見れる
    
- 機体の向きと[相対風](https://jp.fl510.aero/index.php/study-hall/faa-asel/forces-in-flight#:~:text=%E7%9B%B8%E5%AF%BE%E9%A2%A8%EF%BC%88RELATIVE%20WIND%EF%BC%89%20-%20%E8%88%AA%E7%A9%BA%E6%A9%9F%E3%81%AE%E9%A3%9B%E8%A1%8C%E7%B5%8C%E8%B7%AF%E3%81%AB%E5%AF%BE%E3%81%99%E3%82%8B%E9%A2%A8%E3%81%AE%E7%A7%BB%E5%8B%95%E6%96%B9%E5%90%91%E3%81%AE%E3%81%93%E3%81%A8%E3%80%82%20%E8%BF%8E%E8%A7%92%E3%81%AB%E9%96%A2%E4%BF%82%E3%81%AA%E3%81%8F%E3%80%81%E9%A3%9B%E8%A1%8C%E7%B5%8C%E8%B7%AF%E3%81%AE%E5%8F%8D%E5%AF%BE%E5%81%B4%E3%81%AB%E3%81%82%E3%82%8B%20%E7%BF%BC%E5%9E%8B%EF%BC%86%E6%8F%9A%E5%8A%9B,%E5%9F%BA%E6%9C%AC%E7%9A%84%E3%81%AB%E3%80%81%E8%88%AA%E7%A9%BA%E6%A9%9F%E3%81%AE%E7%A9%BA%E5%8A%9B%E3%81%AF%E3%81%A9%E3%81%AE%E7%A8%8B%E5%BA%A6%E3%81%AE%E3%82%82%E3%81%AE%E3%81%8B%EF%BC%9F%20%E4%B8%BB%E3%81%AA%E3%83%9D%E3%82%A4%E3%83%B3%E3%83%88%EF%BC%9A%E5%AF%BE%E6%B0%97%E9%80%9F%E5%BA%A6%E3%81%8C%E5%A2%97%E5%8A%A0%E3%81%99%E3%82%8B%E3%81%A8%E3%80%81%E6%9C%89%E5%AE%B3%E6%8A%97%E5%8A%9B%E3%81%8C%E5%A2%97%E5%8A%A0%E3%81%99%E3%82%8B%20%E4%B8%BB%E3%81%AA%E3%83%9D%E3%82%A4%E3%83%B3%E3%83%88%EF%BC%9A%E6%8F%9A%E5%8A%9B%E3%81%8C%E5%A2%97%E5%8A%A0%E3%81%99%E3%82%8B%E3%81%A8%E3%80%81%E8%AA%98%E5%B0%8E%E6%8A%97%E5%8A%9B%E3%81%8C%E5%A2%97%E5%8A%A0%E3%81%99%E3%82%8B%20%E5%9C%B0%E9%9D%A2%E5%8A%B9%E6%9E%9C%EF%BC%88Ground%20Effect%EF%BC%89%20%E6%97%8B%E5%9B%9E%E5%8D%8A%E5%BE%84%E3%81%AE%E5%A2%97%E5%8A%A0%E3%81%AB%E3%82%88%E3%82%8A%E3%80%81%E9%81%A0%E5%BF%83%E5%8A%9B%E3%81%8C%E5%A2%97%E5%8A%A0%E3%81%99%E3%82%8B%E3%80%82)のなす角を調べるため[あざみ野と同じように](https://drive.google.com/file/d/1z8IEKSGOxfrzAcypIw8VmfEiKgnNoPeO/view)風向計を作り，その風向計の回転角度を測定する方式を採用した(5孔ピトー管による測定方法もあるが鳥科の技術力的に実現できるものがこれだった)

- 角度を測定するセンサは磁気角度センサを採用した
  - 角度を測定するものとして代表的なものに可変抵抗式のものがあるが，これだと精度が出にくい(センサの回転がしづらい)
    
  - 磁気式であれば測定精度が高い上に非接触であり取り付けが比較的容易(あざみ野による前例があるため)
 
  - 耐久性も高い

- 今回使用した磁気角度センサーは[AS5600](https://www.switch-science.com/products/3493)
  - 測定精度が高い(12bit分解能)
    
  - I2C通信が使える
    
  - 3.3Vで動作可能
    
  - いろんな人が使っている(ライブラリやサイトがある)
    
  - 安く手に入りやすい(スイッチサイエンス)
    
  - アマゾンにも同じチップのセンサが安く売っているが今回の基板の大きさの関係上，センサの大きさが小さいのにした
    
## 高度測定
- 高度を測定する
  - パイロット伝達
    
  - 高度推定用
    
    - 高度測定用のセンサーはメイン電装と機体下電装にも取り付けており3つのセンサから測定し，外れ値などを弾くことで高度推定を行う
    
  - ログ用

- 高度測定は気圧センサにより測定

  - 高高度では超音波では測定できない
 
  - 気圧から絶対高度を測定することは可能(後述)

- 使用するセンサはDPS310## 速度計
- 対気速度を測定する
  - パイロット伝達用
    
  - ログ用
   
- 校正難しい5孔ピトー管や風車ではなく，2孔ピトー管で測定
    
- 差圧センサは公式で[Arduinoライブラリ](https://github.com/Sensirion/arduino-i2c-sdp)が用意されている**SensirionのSDP**を使用する
  - ピトー管係数が1から大きく外れない
    
  - 流量方式のため，ピトー管のそばに差圧センサを置く
    
  - ドリフトの調整を省略できるのは楽
    
  - フライト時の振動は想定しづらいが，チューブの圧損はチューブの長さを短くすることで押さえることができる
  <br>
  
  | 製品 | 方式 | 振動 | ドリフト | チューブでの圧損 |
  |--------|--------|--------|--------|--------|
  | Sensirion SDP | 流量 | 影響なし | なし | 影響あり |
    
- 今回使用したセンサは[SDP810-500PA](https://sensirion.com/jp/products/catalog/SDP810-500Pa)
  - ノイズに弱いアナログではなくI2C通信
    
  - 簡単に手はんだが可能
    
  - 3.3Vで動作可能
    
  - 圧力範囲は念のため広く取り，±500Pa
    
  - SDP811はI2Cアドレスが違うだけ


## [AoA](https://en.wikipedia.org/wiki/Angle_of_attack),[AoS](https://en.wikipedia.org/wiki/Slip_(aerodynamics))
- AoA,AoSを測定する
  - AoAは機体が揚力をどれくらい受けているのか，そしてAoSは機体がどれほど横滑りを起こしているか測定するために導入
    
  - AoAはピッチの値にオフセットを加えると同じような値になり，そして水面付近では上下方向の風が基本的になく，ピッチの測定で十分であるため，最悪なくてもよかった
    
  - AoSは代替手段がなく，機体が横滑りを起こしているかを見れる
    
- 機体の向きと[相対風](https://jp.fl510.aero/index.php/study-hall/faa-asel/forces-in-flight#:~:text=%E7%9B%B8%E5%AF%BE%E9%A2%A8%EF%BC%88RELATIVE%20WIND%EF%BC%89%20-%20%E8%88%AA%E7%A9%BA%E6%A9%9F%E3%81%AE%E9%A3%9B%E8%A1%8C%E7%B5%8C%E8%B7%AF%E3%81%AB%E5%AF%BE%E3%81%99%E3%82%8B%E9%A2%A8%E3%81%AE%E7%A7%BB%E5%8B%95%E6%96%B9%E5%90%91%E3%81%AE%E3%81%93%E3%81%A8%E3%80%82%20%E8%BF%8E%E8%A7%92%E3%81%AB%E9%96%A2%E4%BF%82%E3%81%AA%E3%81%8F%E3%80%81%E9%A3%9B%E8%A1%8C%E7%B5%8C%E8%B7%AF%E3%81%AE%E5%8F%8D%E5%AF%BE%E5%81%B4%E3%81%AB%E3%81%82%E3%82%8B%20%E7%BF%BC%E5%9E%8B%EF%BC%86%E6%8F%9A%E5%8A%9B,%E5%9F%BA%E6%9C%AC%E7%9A%84%E3%81%AB%E3%80%81%E8%88%AA%E7%A9%BA%E6%A9%9F%E3%81%AE%E7%A9%BA%E5%8A%9B%E3%81%AF%E3%81%A9%E3%81%AE%E7%A8%8B%E5%BA%A6%E3%81%AE%E3%82%82%E3%81%AE%E3%81%8B%EF%BC%9F%20%E4%B8%BB%E3%81%AA%E3%83%9D%E3%82%A4%E3%83%B3%E3%83%88%EF%BC%9A%E5%AF%BE%E6%B0%97%E9%80%9F%E5%BA%A6%E3%81%8C%E5%A2%97%E5%8A%A0%E3%81%99%E3%82%8B%E3%81%A8%E3%80%81%E6%9C%89%E5%AE%B3%E6%8A%97%E5%8A%9B%E3%81%8C%E5%A2%97%E5%8A%A0%E3%81%99%E3%82%8B%20%E4%B8%BB%E3%81%AA%E3%83%9D%E3%82%A4%E3%83%B3%E3%83%88%EF%BC%9A%E6%8F%9A%E5%8A%9B%E3%81%8C%E5%A2%97%E5%8A%A0%E3%81%99%E3%82%8B%E3%81%A8%E3%80%81%E8%AA%98%E5%B0%8E%E6%8A%97%E5%8A%9B%E3%81%8C%E5%A2%97%E5%8A%A0%E3%81%99%E3%82%8B%20%E5%9C%B0%E9%9D%A2%E5%8A%B9%E6%9E%9C%EF%BC%88Ground%20Effect%EF%BC%89%20%E6%97%8B%E5%9B%9E%E5%8D%8A%E5%BE%84%E3%81%AE%E5%A2%97%E5%8A%A0%E3%81%AB%E3%82%88%E3%82%8A%E3%80%81%E9%81%A0%E5%BF%83%E5%8A%9B%E3%81%8C%E5%A2%97%E5%8A%A0%E3%81%99%E3%82%8B%E3%80%82)のなす角を調べるため[あざみ野と同じように](https://drive.google.com/file/d/1z8IEKSGOxfrzAcypIw8VmfEiKgnNoPeO/view)風向計を作り，その風向計の回転角度を測定する方式を採用した(5孔ピトー管による測定方法もあるが鳥科の技術力的に実現できるものがこれだった)

- 角度を測定するセンサは磁気角度センサを採用した
  - 角度を測定するものとして代表的なものに可変抵抗式のものがあるが，これだと精度が出にくい(センサの回転がしづらい)
    
  - 磁気式であれば測定精度が高い上に非接触であり取り付けが比較的容易(あざみ野による前例があるため)
 
  - 耐久性も高い

- 今回使用した磁気角度センサーは[AS5600](https://www.switch-science.com/products/3493)
  - 測定精度が高い(12bit分解能)
    
  - I2C通信が使える
    
  - 3.3Vで動作可能
    
  - いろんな人が使っている(ライブラリやサイトがある)
    
  - 安く手に入りやすい(スイッチサイエンス)
    
  - アマゾンにも同じチップのセンサが安く売っているが今回の基板の大きさの関係上，センサの大きさが小さいのにした
    
## 高度測定
- 高度を測定する
  - パイロット伝達
    
  - 高度推定用
    
    - 高度測定用のセンサーはメイン電装と機体下電装にも取り付けており3つのセンサから測定し，外れ値などを弾くことで高度推定を行う
    
  - ログ用

- 高度測定は気圧センサにより測定

  - 高高度では超音波では測定できない
 
  - 気圧から絶対高度を測定することは可能(後述)

- 使用するセンサは[DPS310](https://www.adafruit.com/product/4494)

  - 高精度
 
  - 3.3Vで動作可能
 
  - I2Cで通信可能
 
  - ライブラリがある
 
  - スイッチサイエンスに同じチップのセンサがあるが，今回の基板の大きさの関係上，小さいサイズであるこれを採用した(ただ，海外からの輸入のため届くまで時間がかかる)
    
## 姿勢センサ
- 機体の姿勢を測定する
  - ログ用
 
  - メイン電装に取り付けている姿勢センサの値と比べてエアデータセンサが機体同じ向きに設置されているかの比較用に設置した
 
  ~~- 製作した後に気づいたことだが，メインの姿勢センサの値が機体の向きに対して真っすぐ設置できなかったため，こちらのデータをログ用として扱った~~

- 姿勢センサは9軸センサにより測定

- 使用したセンサは[BNO055](https://akizukidenshi.com/catalog/g/g116996/)
  - 姿勢計算までセンサ内で行ってくれる
    
  - 3.3Vで動作可能
 
  - I2Cで通信可能
 
  - ライブラリがある
## マイコン
- エアデータセンサ内のセンサの測定値を取り出し，メインマイコンに送る
  
- メインマイコンから送られた全センサの測定値をSDカードに記録する

- 使用したマイコンは[XIAO RP2040](https://akizukidenshi.com/catalog/g/g117044/)
  - メインマイコンと同じチップであるため，ソフトウェアの移植が容易
 
  - UARTポートがある
 
  - I2C 耐久性も高い

- 今回使用した磁気角度センサーは[AS5600](https://www.switch-science.com/products/3493)
  - 測定精度が高い(12bit分解能)
    
  - I2C通信が使える
    
  - 3.3Vで動作可能
    
  - いろんな人が使っている(ライブラリやサイトがある)
    
  - 安く手に入りやすい(スイッチサイエンス)
    
  - アマゾンにも同じチップのセンサが安く売っているが今回の基板の大きさの関係上，センサの大きさが小さいのにした
    
## 高度測定
- 高度を測定する
  - パイロット伝達
    
  - 高度推定用
    
    - 高度測定用のセンサーはメイン電装と機体下電装にも取り付けており3つのセンサから測定し，外れ値などを弾くことで高度推定を行う
    
  - ログ用

- 高度測定は気圧センサにより測定

  - 高高度では超音波では測定できない
 
  - 気圧から絶対高度を測定することは可能(後述)

- 使用するセンサは[DPS310](https://www.adafruit.com/product/4494)

  - 高精度
 
  - 3.3Vで動作可能
 
  - I2Cで通信可能
 
  - ライブラリがある
 
  - スイッチサイエンスに同じチップのセンサがあるが，今回の基板の大きさの関係上，小さいサイズであるこれを採用した(ただ，海外からの輸入のため届くまで時間がかかる)
    
## 姿勢センサ
- 機体の姿勢を測定する
  - ログ用
 
  - メイン電装に取り付けている姿勢センサの値と比べてエアデータセンサが機体同じ向きに設置されているかの比較用に設置した
 
  ~~- 製作した後に気づいたことだが，メインの姿勢センサの値が機体の向きに対して真っすぐ設置できなかったため，こちらのデータをログ用として扱った~~

- 姿勢センサは9軸センサにより測定

- 使用したセンサは[BNO055](https://akizukidenshi.com/catalog/g/g116996/)
  - 姿勢計算までセンサ内で行ってくれる
    
  - 3.3Vで動作可能
 
  - I2Cで通信可能
 
  - ライブラリがある
## マイコン
- エアデータセンサ内のセンサの測定値を取り出し，メインマイコンに送る
  
- メインマイコンから送られた全センサの測定値をSDカードに記録する

- 使用したマイコンは[XIAO RP2040](https://akizukidenshi.com/catalog/g/g117044/)
  - メインマイコンと同じチップであるため，ソフトウェアの移植が容易
 
  - UARTポートがある
 
  - I2Cのチャンネルが2つある
 
  - 3.3V出力可能

